namespace {
	abstract class P {}

	final class C extends P {
		public static function static_string_method(int $ignored, string $s, mixed $foo): void {}
		public function string_method(string $s, int $x): void {}

		public function foo(): void {
			/* HAKANA_FIXME[ClassnameUsedAsString] Using self in this position will lead to an implicit runtime conversion to string, please use "nameof self" instead */
			$this->string_method(self::class, 4);
			/* HAKANA_FIXME[ClassnameUsedAsString] Using static in this position will lead to an implicit runtime conversion to string, please use "nameof static" instead */
			$this->string_method(static::class, 5);
			/* HAKANA_FIXME[ClassnameUsedAsString] Using parent in this position will lead to an implicit runtime conversion to string, please use "nameof parent" instead */
			$this->string_method(parent::class, 5);
		}
	}

	function string_function(string $s): void {}

	function classname_function(classname<C> $cls): void {}

	function caller(): void {
		$c = new C();
		$int = 5;
		/* HAKANA_FIXME[ClassnameUsedAsString] Using C in this position will lead to an implicit runtime conversion to string, please use "nameof C" instead */
		C::static_string_method($int, C::class, 5.6);
		/* HAKANA_FIXME[ClassnameUsedAsString] Using C in this position will lead to an implicit runtime conversion to string, please use "nameof C" instead */
		string_function(C::class);
		/* HAKANA_FIXME[ClassnameUsedAsString] Using C in this position will lead to an implicit runtime conversion to string, please use "nameof C" instead */
		$c->string_method(C::class, 4);

		/* HAKANA_FIXME[ClassnameUsedAsString] Using \N\E in this position will lead to an implicit runtime conversion to string, please use "nameof \N\E" instead */
		string_function(\N\E::class);

		/* HAKANA_FIXME[ClassnameUsedAsString] Using C in this position will lead to an implicit runtime conversion to string, please use "nameof C" instead */
		$c->string_method(C::class, 4);

		classname_function(C::class);
	}
}

namespace N {
	final class D {}

	final class E {
		public static function foo(): void {
			/* HAKANA_FIXME[ClassnameUsedAsString] Using D in this position will lead to an implicit runtime conversion to string, please use "nameof D" instead */
			\string_function(D::class);
			/* HAKANA_FIXME[ClassnameUsedAsString] Using \C in this position will lead to an implicit runtime conversion to string, please use "nameof \C" instead */
			\string_function(\C::class);
			/* HAKANA_FIXME[ClassnameUsedAsString] Using self in this position will lead to an implicit runtime conversion to string, please use "nameof self" instead */
			\string_function(self::class);
		}
	}
}
